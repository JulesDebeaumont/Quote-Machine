{% extends 'base.html.twig' %}

{% block title %}Category index{% endblock %}

{% block body %}
<h1>Liste des catégories</h1>


    {% if categories is defined %}
    <ul>
        {% for category in categories %}
            <li>
                <span class="content">{{ category.name }}</span>
                <span class="meta">
                --<a href="{{  path('category_show', {'id': category.id}) }}"> Utiliser par {{ category.nb }} quotes</a>

                    {% if is_granted('ROLE_ADMIN') %}
                |
                <a style="border: #565656 solid 1px; padding: 3px; color: #565656"
                   href="{{ path('category_edit', {'id' : category.id}) }}">Modifier</a>
                |
                <a style="border: #B0413E solid 1px; padding: 3px; color: #B0413E"
                   href="{{ path('category_delete', {'id' : category.id}) }}">Supprimer</a>
                    {% endif %}

            </span>
            </li>



        {% endfor %}
    </ul>

    {% else %}

    <div>Pas de catégorie trouver.</div>
    {% endif %}

    {% if is_granted('ROLE_ADMIN') %}
    <a style="border: dodgerblue solid 1px; padding: 3px; color: dodgerblue"
       href="{{ path('category_new') }}">Créer nouvelle catégorie</a>
    {% endif %}
{% endblock %}

